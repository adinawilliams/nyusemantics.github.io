from selenium import webdriver
from selenium.common.exceptions import NoSuchElementException
from selenium.webdriver.common.keys import Keys
import time
import pdb

browser = webdriver.Chrome() # Get local session of firefox
browser.get("https://www.easychair.org/account/signin.cgi?conf=salt23")

browser.find_element_by_name("name").send_keys("panand")
browser.find_element_by_name("password").send_keys("montague1930")
browser.find_element_by_name("Sign in").click()
browser.get('https://www.easychair.org/conferences/submission_show_all.cgi?a=2977716')
els = browser.find_elements_by_tag_name("a")
links = []

for link in els:
   try:
     href = link.get_attribute("href")
     if "assignment_submission" in href:
        links.append(href)
   except:
     pass

curAbstract = 0
# assignments = [[1,3,4,6], [5,7,9,12], [56,79,30]]
assignments = [[], [], [79, 108, 157], [76, 35, 102], [80, 43, 111], [], [63, 69, 138], [27, 141, 25], [41, 127, 136], [28, 153, 56], [34, 145, 14], [85, 129, 5], [68, 33, 57], [138, 7, 103], [79, 130, 101], [35, 81, 98], [134, 146, 74], [33, 163, 38], [5, 72, 126], [115, 86, 101], [28, 153, 27, 73], [26, 86, 40], [66, 148, 113], [95, 91, 93], [149, 119, 106], [161, 128, 157], [97, 92, 33], [116, 61, 117], [22, 17, 47], [130, 107, 2], [113, 97, 104], [21, 155, 10], [117, 61, 27], [24, 95, 41], [161, 66, 87], [34, 17, 52], [8, 3, 59], [51, 32, 116], [40, 56, 10], [132, 17, 120], [112, 86, 71], [117, 92, 7], [116, 8, 64], [78, 0], [124, 137, 133], [103, 44, 94], [98, 100, 82], [129, 144, 158], [25, 141, 59], [114, 122, 77], [131, 17, 162], [12, 125, 3], [131, 4, 55], [140, 130, 123], [13, 54, 85], [119, 13, 46], [130, 49, 42], [79, 29, 115], [105, 60, 77], [141, 30, 152, 33], [128, 15, 20, 158], [123, 28, 107], [91, 121, 145], [147, 41, 93], [99, 67, 88], [53, 26, 157], [50, 46, 16], [122, 71, 88], [139, 40, 31], [89, 112, 138], [132, 131, 158], [84, 15, 155], [22, 150, 2, 50], [62, 4, 118], [55, 99, 3], [115, 51, 98], [41, 124, 103], [124, 21, 109, 75], [48, 14, 63], [127, 109, 74], [36, 118, 90], [0, 82, 132], [73, 78, 31], [113, 97, 119], [37, 136, 29], [123, 163, 125], [61, 60, 70], [73, 154, 8], [10, 147, 65], [62, 18, 142], [114, 122, 77], [132, 4, 7], [66, 84, 20], [133, 89, 120], [133, 89, 120], [133, 89, 120], [64, 143, 144], [58, 20, 151], [150, 3, 99], [52, 30, 160], [43, 69, 110], [63, 82, 105], [142, 16, 118], [38, 66, 95, 161], [108, 12, 136], [12, 44, 101], [23, 115, 62], [149, 74, 114], [55, 1, 42, 110], [117, 118, 10], [11, 100, 60], [127, 18, 32], [68, 102, 111], [116, 119, 128], [156, 31, 150], [53, 106, 83], [11, 16, 91], [84, 64, 143], [1, 39, 109], [121, 160, 54], [32, 151, 159], [36, 29, 108], [9, 111, 159], [15, 34, 52], [76, 160, 90], [160, 139, 135], [74, 13, 137], [155, 104, 39], [90, 65, 96], [51, 148, 1], [152, 56, 25], [138, 149, 140], [34, 5, 48], [83, 108, 112], [26, 0], [59, 42, 134], [30, 72, 127], [23, 44, 27], [106, 162, 100], [38, 68, 29], [48, 145, 96], [9, 109], [23, 104, 70], [143, 44, 94], [126, 146, 62], [154, 43, 2], [100, 87, 101], [71, 112, 67], [146, 84, 151], [88, 37, 49], [142, 102, 87], [137, 47, 57], [91, 102, 54], [142, 147, 144], [13, 36, 126], [80, 49, 21], [9, 65, 67], [20, 140, 162], [92, 111, 80], [50, 80, 36], [163, 57, 24], [46, 31, 78], [12, 79, 39], [121, 63, 47], [7, 148, 22], [81, 60, 24], [30, 134, 72], [16, 53, 76], [140, 37, 93], [94, 139, 37]]

for link in links:
   if curAbstract == len(assignments):
      break
   try:
     browser.get(link)
     checkboxes = filter(lambda input: input.get_attribute("type")=="checkbox", browser.find_elements_by_tag_name("input"))
     for person in assignments[curAbstract]:
        checkboxes[person].click()
        time.sleep(1)
     curAbstract += 1
   except TypeError:
       pass
